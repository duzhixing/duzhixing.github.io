<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="nice to meet you">
<meta property="og:type" content="website">
<meta property="og:title" content="斗志">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="斗志">
<meta property="og:description" content="nice to meet you">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="douzhi">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>斗志</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">斗志</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">for me forever</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">1</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">3</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">20</span></a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/28/Advanced_network/chap13_15/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://123.57.5.52:8080/Firefox_wallpaper.png">
      <meta itemprop="name" content="douzhi">
      <meta itemprop="description" content="nice to meet you">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="斗志">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/28/Advanced_network/chap13_15/" class="post-title-link" itemprop="url">Advancednetwork_第四阶段复习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-28 04:12:57" itemprop="dateCreated datePublished" datetime="2020-06-28T04:12:57+08:00">2020-06-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-06-29 21:42:15" itemprop="dateModified" datetime="2020-06-29T21:42:15+08:00">2020-06-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Advanced-network/" itemprop="url" rel="index"><span itemprop="name">Advanced_network</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第四阶段"><a href="#第四阶段" class="headerlink" title="第四阶段"></a>第四阶段</h1><h2 id="chap-13-运输层"><a href="#chap-13-运输层" class="headerlink" title="chap 13 运输层"></a>chap 13 运输层</h2><h3 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h3><p>端口号 0~65535 之间的整数.<br>客户端-&gt;临时端口号(生存时间较短)<br>服务器端-&gt;熟知端口号(让客户端知道,才能进行访问)</p>
<p>熟知端口号-&gt;0~1023</p>
<ul>
<li>流量控制:<blockquote>
<p>推送:不管接收方响应,发送方直接发送<br>拉取:发送方在接收方请求之后才发送数据</p>
</blockquote>
</li>
</ul>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap13_1.png" alt="运输层通信"></p>
<ul>
<li><p>差错控制:</p>
<ul>
<li><p>检查并丢弃损坏的分组</p>
</li>
<li><p>跟踪丢失和丢弃的分组并重传他们</p>
</li>
<li><p>识别重复的分组并丢弃他们</p>
</li>
<li><p>识别失序到达的分组,直至缺失的分组全部抵达</p>
</li>
</ul>
</li>
</ul>
<h3 id="运输层协议"><a href="#运输层协议" class="headerlink" title="运输层协议"></a>运输层协议</h3><h4 id="停止等待协议"><a href="#停止等待协议" class="headerlink" title="停止等待协议"></a>停止等待协议</h4><p>每次让一个分组处于等待确认状态.</p>
<blockquote>
<p>流量控制通过迫使发送发等待确认来实现.</p>
<p>差错控制通过丢失损坏的分组,并且让发送方在计时器超时后重传未确认的分组来实现</p>
</blockquote>
<p>停止等待协议中,所有的序号都是模2的. 0,1,0,1,0,1</p>
<h4 id="返回N协议-GBN"><a href="#返回N协议-GBN" class="headerlink" title="返回N协议(GBN)"></a>返回N协议(GBN)</h4><p>让多个分组处于等待确认状态.</p>
<p>返回N协议中,序号必须是模$2^m$的,其中m为序号字段的比特长度.</p>
<ul>
<li>发送窗口:定义了一个想象的方框.最大是$2^m$</li>
</ul>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap13_2.png" alt="发送窗口"></p>
<ul>
<li>接收窗口:定义了一个大小为1,且只有一个变量Rn的想象的方框</li>
</ul>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap13_3.png" alt="发送窗口"></p>
<p>当第一个未确认的分组计时器超时,就重传<strong>所有</strong>待确认的分组.<br>在GBN协议中,<strong>确认号定义了下一个希望接收到的分组序号</strong></p>
<h4 id="选择重传协议"><a href="#选择重传协议" class="headerlink" title="选择重传协议"></a>选择重传协议</h4><p>只重传真正丢失的分组</p>
<ul>
<li><p>窗口</p>
<ul>
<li>发送窗口, 最大值要小的多,是$2^m-1$,其中m为序号字段的比特长度.</li>
<li>接受窗口,它和发送窗口一样大</li>
</ul>
</li>
<li><p>计时器:每一个待确认的分组使用一个计时器.当某一个计时器超时后,只有相应的分组被重传</p>
</li>
</ul>
<p>在选择重传协议中,<strong>确认号定义了无差错的接收到的那个分组的序号</strong>(并不是下一个希望接收到的分组序号)</p>
<h2 id="chap14-用户数据报协议-UDP"><a href="#chap14-用户数据报协议-UDP" class="headerlink" title="chap14 用户数据报协议(UDP)"></a>chap14 用户数据报协议(UDP)</h2><p>UDP在运输层.是一种<strong>无连接的,不可靠</strong>的传输协议.</p>
<p><code>差错控制</code>:检测出由差错的分组,就悄悄的丢弃他.</p>
<p>没有<code>流量控制</code>.</p>
<p>8个字节的首部.</p>
<p>源端口号 + 目的端口号 + 总长度(UDP的总长度,包括首部) + 检验和.(各占2个字节)</p>
<h2 id="chap15-传输控制协议-TCP"><a href="#chap15-传输控制协议-TCP" class="headerlink" title="chap15 传输控制协议(TCP)"></a>chap15 传输控制协议(TCP)</h2><p>TCP首部<br><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap15_1.png" alt="发送窗口"></p>
<p>窗口大小: 以字节为单位,指的是接收窗口,由接收方来决定.</p>
<p>检验和: 需要附加相同的伪首部</p>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap15_2.png" alt="发送窗口"></p>
<p>TCP的检验和是强制性的,UDP的检验和是可选的.</p>
<p><strong>封装结构</strong>:</p>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap15_3.png" alt="发送窗口"></p>
<p>SYN报文段不携带任何数据,但是要消耗一个序号.</p>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap15_4.png" alt="发送窗口"></p>
<p>不携带数据,但要消耗一个序号的有<br>SYN报文段, SYN报文段+ACK报文段,<br>ACK报文段.</p>
<h3 id="拥塞策略"><a href="#拥塞策略" class="headerlink" title="拥塞策略"></a>拥塞策略</h3><ul>
<li><p>慢开始:指数增大</p>
</li>
<li><p>拥塞避免:指数加大</p>
</li>
<li><p>拥塞检测: 乘法减小(门限值降到一半)</p>
</li>
</ul>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap15_5.png" alt="发送窗口"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/28/Advanced_network/chap11_12/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://123.57.5.52:8080/Firefox_wallpaper.png">
      <meta itemprop="name" content="douzhi">
      <meta itemprop="description" content="nice to meet you">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="斗志">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/28/Advanced_network/chap11_12/" class="post-title-link" itemprop="url">Advancednetwork_第三阶段复习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-28 03:12:57" itemprop="dateCreated datePublished" datetime="2020-06-28T03:12:57+08:00">2020-06-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-06-29 21:43:06" itemprop="dateModified" datetime="2020-06-29T21:43:06+08:00">2020-06-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Advanced-network/" itemprop="url" rel="index"><span itemprop="name">Advanced_network</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第三阶段"><a href="#第三阶段" class="headerlink" title="第三阶段"></a>第三阶段</h1><h2 id="chap-11-单播路由选择协议"><a href="#chap-11-单播路由选择协议" class="headerlink" title="chap 11 单播路由选择协议"></a>chap 11 单播路由选择协议</h2><p>RIP OSPF BGP</p>
<p>RIP 路由信息协议是对距离向量协议的实现<br>OSPF 开放最短路径优先协议是对链路状态协议的实现<br>BGP 边界网关协议是对路径向量协议的实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">digraph A &#123;</span><br><span class="line">    路由选择协议-&gt;域内</span><br><span class="line">    路由选择协议-&gt;域间</span><br><span class="line">    域内-&gt;距离向量RIP</span><br><span class="line">    域内-&gt;链路状态OSPF</span><br><span class="line">    域间-&gt;路径向量BGP</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="距离向量路由选择"><a href="#距离向量路由选择" class="headerlink" title="距离向量路由选择"></a>距离向量路由选择</h3><ul>
<li><p>Bellman-Ford 算法.<br>  可以找出任意两个节点之间的最小代价</p>
</li>
<li><p>距离向量路由选择算法</p>
</li>
<li><p>计数到无穷大</p>
<ul>
<li><p>二结点循环:</p>
<pre><code>定义无穷大,分割范围,分割范围和毒性逆转</code></pre></li>
<li><p>三结点的不稳定性</p>
</li>
</ul>
</li>
</ul>
<h3 id="RIP"><a href="#RIP" class="headerlink" title="RIP"></a>RIP</h3><p>路由信息协议(Routing Information Protocol).RIP 度量称为跳数.(无穷大被定义为16)</p>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap11_1.png" alt="RIP"></p>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap11_2.png" alt="RIP_2"></p>
<h3 id="OSPF"><a href="#OSPF" class="headerlink" title="OSPF"></a>OSPF</h3><p>开放最短路径优先.</p>
<p>链路状态路由协议使用SPF最短路经优先算法（shortest path first spf）计算和选择路由，这类路由协议只关心网络中链路或接口的状态（up down ip地址，掩码带宽，利用率和时延等），<strong>每个路由器将已知的链路状态信息向该区域的其他路由器通告</strong>，通过这种方式，网络上的每台路由器对网络结构都会有相同的认识，随后路由器以其为依据，使用spf算法计算和选择路由</p>
<p>spf算法是以自身为根节点计算出一棵最短路径树，在这棵树上由根到各节点的累计开销最小</p>
<ol>
<li><p>邻居表：记录所有建立了邻居关系的路由器，包括相关描述和邻居状态。会定期的相互发送hello报文来维护，若在一定的周期内没有收到领居回应的hello报文，则认为邻居路由器失效，将它从邻居表中删除</p>
</li>
<li><p>链路状态数据库表（LSDB）：此表里包含了网络拓扑中链路状态的通告。。每台路由器在同一个区域内LSDB表一样</p>
</li>
<li><p>路由表：在获得完整LSDB表后，进行SPF算法，形成最优路由加入路由表</p>
</li>
</ol>
<h3 id="BGP"><a href="#BGP" class="headerlink" title="BGP"></a>BGP</h3><p>几个相关概念</p>
<ul>
<li><p><code>AS</code>（Autonomous system）：自治系统，指在一个（有时是多个）组织管辖下的所有IP网络和路由器的全体，它们对互联网执行共同的路由策略。也就是说，对于互联网来说，一个AS是一个独立的整体网络。而BGP实现的网络自治也是指各个AS自治。每个AS有自己唯一的编号。</p>
</li>
<li><p><code>IGP</code>（Interior Gateway Protocol）：内部网关协议，在一个AS内部所使用的一种路由协议。一个AS内部也可以有多个路由器管理多个网络。各个路由器之间需要路由信息以知道子网络的可达信息。IGP就是用来管理这些路由。代表的实现有RIP和OSPF。</p>
</li>
</ul>
<p>由于BGP就是为了替换EGP而创建，它的地位与EGP相似。但是BGP也可以应用在一个AS内部。因此BGP又可以分为<code>IBGP</code>（Interior BGP ：同一个AS之间的连接）和<code>EBGP</code>（Exterior BGP：不同AS之间的BGP连接）。既然EGP已经被替代了，那EBGP的存在比较好理解，但是IGP协议都还活得好好的（这里指的是OSPF），那IBGP的意义何在？IGP的协议是针对同一个AS网络来设计的，一个自治网络的规模一般都不大，所以设计的时候就没有考虑大规模网络的情况。而当一个自治网络足够大时，OSPF存在性能瓶颈（后面会说明）。BGP本身就是为了在Internet工作，其设计就是为了满足大型网络的要求，所以大型私有IP网络内部可以使用IBGP。总的来说，这几类路由协议，小规模私有网络IGP，大规模私有网络IBGP，互联网EBGP。</p>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap11_3.png" alt="BGP"></p>
<h2 id="chap-12-多播和多播路由选择协议"><a href="#chap-12-多播和多播路由选择协议" class="headerlink" title="chap 12 多播和多播路由选择协议"></a>chap 12 多播和多播路由选择协议</h2><p>单播: 路由器仅通过一个接口转发分组</p>
<p>多播: 路由器通过多个接口转发收到的分组</p>
<p>IPV4中的多播地址: 占据了D类地址唯一的地址块.</p>
<p>比如: 224.0.0.1/24 称为本地网络控制地址块.</p>
<p>以太网物理多播地址的范围: 01:00:5E:00:00:00 ~ 01:00:5E:7F:FF:FF</p>
<p>将IP多播地址转换成MAC多播地址.</p>
<ol>
<li><p>将IP多播地址的最右边23位转换成16进制,然后16进制的最左边如果大于8则减去8.</p>
</li>
<li><p>然后将这个地址 加上 01:00:5E:00:00:00</p>
</li>
</ol>
<p>IGMP: (Internet group management protocol) 网际组管理协议</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/28/Advanced_network/chap4_10/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://123.57.5.52:8080/Firefox_wallpaper.png">
      <meta itemprop="name" content="douzhi">
      <meta itemprop="description" content="nice to meet you">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="斗志">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/28/Advanced_network/chap4_10/" class="post-title-link" itemprop="url">Advancednetwork_第二阶段复习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-28 02:12:57 / 修改时间：00:36:10" itemprop="dateCreated datePublished" datetime="2020-06-28T02:12:57+08:00">2020-06-28</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Advanced-network/" itemprop="url" rel="index"><span itemprop="name">Advanced_network</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第二阶段复习"><a href="#第二阶段复习" class="headerlink" title="第二阶段复习"></a>第二阶段复习</h1><h2 id="chap4-网络层基础"><a href="#chap4-网络层基础" class="headerlink" title="chap4 网络层基础"></a>chap4 网络层基础</h2><p>面向连接的服务:</p>
<ol>
<li><p>建链阶段</p>
<p>1.1 请求分组<br> 从源到终点,确定入端口,入标号以及出端口<br>1.2 确认分组<br> 从从终点到源,确定出标号. 一个路由器的出标号是下一跳路由器的入标号.</p>
</li>
<li><p>拆链阶段</p>
</li>
</ol>
<p>计算机网络层的服务:</p>
<ul>
<li>分组化处理<br>将上层数据封装到一个数据部中. 添加了一个首部,包含分组的逻辑源地址,逻辑目的地址等.</li>
<li>查找下一跳的逻辑地址<br>咨询路由表,查找下一条的逻辑地址</li>
<li>查找下一条的物理地址<br>需要数据链路层来进行真正的交付,但数据链路层需要下一跳的MAC地址才能进行真正的交付</li>
<li>数据报进行必要的分片处理<br>一个帧携带了数据最大长度有限制,所以进行分片处理.</li>
</ul>
<h2 id="chap5-IPV4地址"><a href="#chap5-IPV4地址" class="headerlink" title="chap5 IPV4地址"></a>chap5 IPV4地址</h2><p>A类 0 开头 1/2   一个字节的网络标识<br>B类 10 开头 1/4  两个字节的网络标识<br>C类 110 开头 1/8 三个字节的网络标识,每个地址块有256个地址<br>D类 1110 开头 1/16 只有一个地址块<br>E类 1111 开头 1/16 只有一个地址块</p>
<p>NAT技术 网络地址转换(network address translation),可以用于在专用地址和全球地址之间的相互映射.</p>
<h3 id="转换表"><a href="#转换表" class="headerlink" title="转换表"></a>转换表</h3><ul>
<li><p>使用IP地址, 一个专用地址和一个外部地址对应</p>
</li>
<li><p>使用IP地址池,多对多,可以同时通信的数量是根据IP地址池里面的地址数量</p>
</li>
<li><p>使用IP地址和端口地址.一次性使用的端口地址是唯一的.</p>
</li>
</ul>
<h2 id="chap6-IP分组的交付和转发"><a href="#chap6-IP分组的交付和转发" class="headerlink" title="chap6 IP分组的交付和转发"></a>chap6 IP分组的交付和转发</h2><h3 id="基于目的地址的转发"><a href="#基于目的地址的转发" class="headerlink" title="基于目的地址的转发"></a>基于目的地址的转发</h3><ul>
<li><p>下一跳方法 只保留下一跳的路由器地址.(如果是基于路由的方法,需要保留整个路径的路由器地址)</p>
</li>
<li><p>特定网络方法 把连接在同一个网络的所有主机看成一个唯一的表项</p>
</li>
<li><p>默认方法 不必把整个因特网的所有都列出来,而是采用一个默认表项</p>
</li>
<li><p>使用分类地址转发</p>
</li>
<li><p>使用无分类地址转发 路由表项需要包含掩码(最长掩码匹配)</p>
</li>
</ul>
<h3 id="基于标记的转发"><a href="#基于标记的转发" class="headerlink" title="基于标记的转发"></a>基于标记的转发</h3><p>主要是基于面向连接的网络方式,交换机根据附加在分组上的标记来进行转发分组.</p>
<h3 id="路由器结构"><a href="#路由器结构" class="headerlink" title="路由器结构"></a>路由器结构</h3><p>输入端口,输出端口,路由选择处理器以及交换结构</p>
<h2 id="chap7-网际协议版本4-IPV4"><a href="#chap7-网际协议版本4-IPV4" class="headerlink" title="chap7 网际协议版本4 IPV4"></a>chap7 网际协议版本4 IPV4</h2><h3 id="IP数据报"><a href="#IP数据报" class="headerlink" title="IP数据报"></a>IP数据报</h3><p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap7_1.png" alt="IP数据报"></p>
<p>IP数据报总长度字段是16位,因此IP数据报的长度限制在$2^16-1$字节.<br>首部最小长度是20字节.最大长度是60.</p>
<p>首部 + 数据</p>
<p>首部长度(HLEN)  以<code>4</code>字节的字为单位</p>
<p><strong><em>只有数据报中的数据是分片</em></strong><br>MTU 最大传送单元</p>
<p>分片偏移 以<code>8</code>字节为度量单位<br>标志: D: 不分片; M: 还有分片(1表明后面还有分片)</p>
<p>IP中的检验和只覆盖首部.不包含数据.</p>
<h3 id="选项类型"><a href="#选项类型" class="headerlink" title="选项类型"></a>选项类型</h3><p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap7_2.png" alt="选项"></p>
<ul>
<li><p>无操作选项. 用作不同长度选项之间的填充. <strong>用来进行16位或者32位边界的对齐</strong>.</p>
</li>
<li><p>选项结束选项. 一字节,全0.</p>
</li>
<li><p>记录路由选项. 用来记录处理数据报的路由器.最多9个</p>
</li>
<li><p>严格路由选项. 预先指定数据报在网络中传播时的路由.</p>
</li>
<li><p>不严格路由选项. 条件放宽,表中路由器必须通过,但也可以访问其他路由器</p>
</li>
<li><p>时间戳. IP地址+时间戳.</p>
</li>
</ul>
<h2 id="chap-8-地址解析协议"><a href="#chap-8-地址解析协议" class="headerlink" title="chap 8 地址解析协议"></a>chap 8 地址解析协议</h2><h3 id="地址映像"><a href="#地址映像" class="headerlink" title="地址映像"></a>地址映像</h3><ul>
<li><p>静态映射 将逻辑地址和物理地址关联起来</p>
</li>
<li><p>动态映射 地址解析协议(ARP) 和 逆地址解析协议(RARP)</p>
</li>
</ul>
<h3 id="ARP协议"><a href="#ARP协议" class="headerlink" title="ARP协议"></a>ARP协议</h3><p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap8_1.png" alt="差错报文"></p>
<p>ARP请求采用广播发送;ARP回答采用单播发送<br>IP -&gt; 物理地址.</p>
<p>硬件类型:用来定义运行ARP的网络类型.<br>协议类型:用来定义协议类型.<br>硬件长度:用来定义物理地址的长度,以字节为单位<br>协议长度:用来定义逻辑地址的长度,以字节为单位</p>
<p>ARP分组直接封装在以太网的帧中.(代替之前的数据位置)</p>
<h3 id="代理ARP"><a href="#代理ARP" class="headerlink" title="代理ARP"></a>代理ARP</h3><p>它是代表一组主机的ARP,可以用于产生一组子网划分的效果.<br>当运行代理ARP的路由器收到一个ARP请求,希望找出这些主机中的某一个主机的物理地址时,路由器就返回一个宣布了他自己硬件得知的ARP回答分组.(就是把代理服务器的硬件地址作为那个硬件地址)</p>
<h2 id="chap-9-网址控制报文协议-ICMP"><a href="#chap-9-网址控制报文协议-ICMP" class="headerlink" title="chap 9 网址控制报文协议( ICMP)"></a>chap 9 网址控制报文协议( ICMP)</h2><p>由于IP协议有两个不足之处</p>
<ul>
<li><p>IP协议没有差错报告或者差错纠正机制</p>
</li>
<li><p>IP协议还缺少主机和管理查询所需要的机制</p>
</li>
</ul>
<p>ICMP 首先要封装成IP数据报,然后再传输到下一层</p>
<h3 id="差错报告报文"><a href="#差错报告报文" class="headerlink" title="差错报告报文"></a>差错报告报文</h3><p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap9_1.png" alt="差错报文"></p>
<p><strong>携带ICMP分组的IP协议字段值为1</strong>.</p>
<p>ICMP由8字节的首部和可变长度的数据部分组成.<br>差错报文总是发送给最初的信号源.</p>
<ol>
<li><p>对于携带ICMP的数据报,不产生ICMP差错报文</p>
</li>
<li><p>只有第一个分片产生ICMP差错报文</p>
</li>
<li><p>多播地址的数据报,不产生差错报文</p>
</li>
<li><p>对于特殊地址的(127.0.0.0;0.0.0.0),不产生差错数据报文</p>
</li>
</ol>
<h3 id="查询报文"><a href="#查询报文" class="headerlink" title="查询报文"></a>查询报文</h3><ol>
<li><p>回送请求和回送回答. 为了诊断而设计的,组合起来来确定两个系统之间能否彼此通信. 比如:<code>ping</code></p>
</li>
<li><p>时间戳请求和回答. 来确定IP数据报在两个机器之间来回往返花费的时间.也可以用来同步两个时钟.</p>
</li>
</ol>
<h2 id="chap-10-移动IP"><a href="#chap-10-移动IP" class="headerlink" title="chap 10 移动IP"></a>chap 10 移动IP</h2><h3 id="归属代理-外地代理"><a href="#归属代理-外地代理" class="headerlink" title="归属代理+外地代理"></a>归属代理+外地代理</h3><p>两个地址: 归属地址(永久) + 转交地址(临时)<br>主机从一个网络转交到另外一个地址,他的转交地址就会发生改变.</p>
<p>为了让地址改变对于因特网其他部分是透明.<br>所以需要:归属代理 + 外地代理</p>
<p>归属代理是代收其他主机发给该主机的信息,然后再转发给外地代理<br>外地代理接收,归属代理发来的信息,然后发送给主机.</p>
<h3 id="远程主机通信的三个阶段"><a href="#远程主机通信的三个阶段" class="headerlink" title="远程主机通信的三个阶段"></a>远程主机通信的三个阶段</h3><h4 id="代理发现"><a href="#代理发现" class="headerlink" title="代理发现"></a>代理发现</h4><p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap10_1.png" alt="代理"></p>
<ol>
<li><p>移动主机在离开归属网络之前,必须要发现归属代理</p>
</li>
<li><p>移动主机移动到外地网络之后要发现外地代理</p>
</li>
</ol>
<h4 id="登记"><a href="#登记" class="headerlink" title="登记"></a>登记</h4><p>登记有四个要素:</p>
<ul>
<li><p>移动主机必须要向外地代理登记.</p>
</li>
<li><p>移动主机必须要向归属代理登记.(由外地代理代替完成)</p>
</li>
<li><p>截止期到了,必须更新登记</p>
</li>
<li><p>移动主机回到归属网络,必须取消登记.</p>
</li>
</ul>
<h4 id="数据传送"><a href="#数据传送" class="headerlink" title="数据传送"></a>数据传送</h4><p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap10_2.png" alt="数据传送"></p>
<h3 id="移动IP的低效率"><a href="#移动IP的低效率" class="headerlink" title="移动IP的低效率"></a>移动IP的低效率</h3><ol>
<li><p>两次穿越.远程主机和移动主机在同一个归属网络.(只有远程主机向移动主机发送分组时候才会发生,移动主机向远程主机发送时候就不会存在低效率问题)</p>
</li>
<li><p>三角路由选择. 三角形两边之和大于第三边(路径浪费)</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/28/Advanced_network/chap2_3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://123.57.5.52:8080/Firefox_wallpaper.png">
      <meta itemprop="name" content="douzhi">
      <meta itemprop="description" content="nice to meet you">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="斗志">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/28/Advanced_network/chap2_3/" class="post-title-link" itemprop="url">Advancednetwork_第一阶段复习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-28 01:12:57 / 修改时间：00:36:04" itemprop="dateCreated datePublished" datetime="2020-06-28T01:12:57+08:00">2020-06-28</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Advanced-network/" itemprop="url" rel="index"><span itemprop="name">Advanced_network</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第一阶段复习"><a href="#第一阶段复习" class="headerlink" title="第一阶段复习"></a>第一阶段复习</h1><h2 id="chap2"><a href="#chap2" class="headerlink" title="chap2"></a>chap2</h2><h3 id="OSI-模型-open-systemed-internet"><a href="#OSI-模型-open-systemed-internet" class="headerlink" title="OSI 模型 open systemed internet"></a>OSI 模型 open systemed internet</h3><table>
<thead>
<tr>
<th align="center">层次</th>
<th align="center">作用</th>
<th align="center">传输内容</th>
</tr>
</thead>
<tbody><tr>
<td align="center">应用层</td>
<td align="center">使用户允许访问网络资源</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">表示层</td>
<td align="center">数据的转换，加密和压缩(将数据转化成公认的比特)</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">会话层</td>
<td align="center">建立,管理,终止会话</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">运输层</td>
<td align="center">提供可靠的进程到进程的交付和差错恢复</td>
<td align="center">TCP,UDP,SCTP(报文段,用户数据报或者分组)</td>
</tr>
<tr>
<td align="center">网络层</td>
<td align="center">从源到终点传送分组,提供网络互联</td>
<td align="center">IP数据报 帧的分组</td>
</tr>
<tr>
<td align="center">数据链路层</td>
<td align="center">将比特组成帧结构,提供逐跳交付</td>
<td align="center">帧的分组+首部(说明帧的源地址和目的地址)</td>
</tr>
<tr>
<td align="center">物理层</td>
<td align="center">经过媒体传送比特,提供机械和电气规约</td>
<td align="center">在帧首部加入前同步码,提醒接收站有数据到来(可以允许错过几个比特)SFD(帧首定界符)</td>
</tr>
</tbody></table>
<p><strong><em>如果使用五层模型,则将应用层,表示层,会话层统一合并成应用层</em></strong>  传输内容是 <strong>报文</strong></p>
<h3 id="编址"><a href="#编址" class="headerlink" title="编址"></a>编址</h3><p><strong>物理地址是逐跳改变的,逻辑地址和端口地址保持不变.</strong></p>
<p>每经过一个路由器,物理地址就被更新,如果该计算机的逻辑地址和目的逻辑地址不一致,则继续进行传递.</p>
<h2 id="chap-3"><a href="#chap-3" class="headerlink" title="chap 3"></a>chap 3</h2><p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Advanced_network/chap3_1.png" alt="帧"></p>
<p>帧最小长度是64字节,最大长度是1518字节(不算前同步码和SFD)</p>
<p>目的地址的第一个字节的最低位指定了传播类型.<br>0 代表单播,1代表多播<br>目的地址全为1,代表广播</p>
<p>地址是从左往右,逐字节发送.<br>而每个字节是从右往左,逐位发送</p>
<p>最小帧长的目的是为了让CSMA/CA正常工作:因为如果一个帧发完之后是不会留有该帧副本,所以必须在帧发完之前,检测出来是否发成冲突.而冲突检测时间是两倍的最大传播时间,所以帧长等于冲突检测时间乘以帧发射速率.</p>
<ul>
<li><p><code>转发器</code>(一层交换机)相当于一个信号放大器(是信号保持),防止信号衰减</p>
</li>
<li><p><code>网桥</code>(两层交换机)的表项中需要存MAC地址对应的端口,而他的更新一般是自动的.通过传输帧中的<code>目的地址</code>来<strong>查找相应的端口</strong>,通过<code>源地址</code>来进行<strong>更新或者新添表项</strong>,网桥不改变MAC地址</p>
</li>
<li><p><code>路由器</code>(三层交换机).转发器和网桥是连接一个局域网的各个网段,路由器是将多个局域网连接在一起. 路由器的每个接口都对应着一个逻辑地址和物理地址,在传输过程中改变,帧的MAC地址(目的+源).</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/28/process/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://123.57.5.52:8080/Firefox_wallpaper.png">
      <meta itemprop="name" content="douzhi">
      <meta itemprop="description" content="nice to meet you">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="斗志">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/28/process/" class="post-title-link" itemprop="url">process</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-28 00:06:11" itemprop="dateCreated datePublished" datetime="2020-06-28T00:06:11+08:00">2020-06-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="进程的几种状态"><a href="#进程的几种状态" class="headerlink" title="进程的几种状态"></a>进程的几种状态</h1><hr>
<p><img src="https://img-blog.csdn.net/20170820200728157?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcWljaGVuZzc3Nw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="三态模型" title="三态模型"></p>
<h2 id="阻塞"><a href="#阻塞" class="headerlink" title="阻塞"></a>阻塞</h2><p>阻塞是一种被动的方式，由于获取资源获取不到而引起的等待。</p>
<h2 id="睡眠"><a href="#睡眠" class="headerlink" title="睡眠"></a>睡眠</h2><p>睡眠的确是一种主动的方式</p>
<h2 id="挂起"><a href="#挂起" class="headerlink" title="挂起"></a>挂起</h2><p>挂起也是一种主动的行为，是系统层面对进程作出的合理操作。<br>挂起的标志就是换出到外存，在外存的进程肯定是不能执行的，所以挂起的目的就很明显，在内存资源不足时，需要把一些进程换出到外存，给着急运行的进程腾地方。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/28/udp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://123.57.5.52:8080/Firefox_wallpaper.png">
      <meta itemprop="name" content="douzhi">
      <meta itemprop="description" content="nice to meet you">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="斗志">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/28/udp/" class="post-title-link" itemprop="url">udp</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-28 00:06:07" itemprop="dateCreated datePublished" datetime="2020-06-28T00:06:07+08:00">2020-06-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="UDP-for-VPN"><a href="#UDP-for-VPN" class="headerlink" title="UDP for VPN"></a>UDP for VPN</h1><h2 id="nc"><a href="#nc" class="headerlink" title="nc"></a>nc</h2><pre><code>dzx@dzx-N8xEJEK:~$ nc -vuz 192.168.209.121 123
Connection to 192.168.209.121 123 port [udp/ntp] succeeded!</code></pre><p>实际使用时可以只用-u参数，-u代表udp协议 ，-v代表详细模式，-z代表只监测端口不发送数据</p>
<p>##</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/27/Aics/chap6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://123.57.5.52:8080/Firefox_wallpaper.png">
      <meta itemprop="name" content="douzhi">
      <meta itemprop="description" content="nice to meet you">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="斗志">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/27/Aics/chap6/" class="post-title-link" itemprop="url">Aics_Chap6</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-27 06:12:57" itemprop="dateCreated datePublished" datetime="2020-06-27T06:12:57+08:00">2020-06-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-06-28 00:31:44" itemprop="dateModified" datetime="2020-06-28T00:31:44+08:00">2020-06-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Aics/" itemprop="url" rel="index"><span itemprop="name">Aics</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="深度学习处理器机理"><a href="#深度学习处理器机理" class="headerlink" title="深度学习处理器机理"></a>深度学习处理器机理</h1><h2 id="如何设计DLP：deep-learning-processor"><a href="#如何设计DLP：deep-learning-processor" class="headerlink" title="如何设计DLP：deep learning processor"></a>如何设计DLP：deep learning processor</h2><p>ISA：指令集</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/27/Aics/chap5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://123.57.5.52:8080/Firefox_wallpaper.png">
      <meta itemprop="name" content="douzhi">
      <meta itemprop="description" content="nice to meet you">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="斗志">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/27/Aics/chap5/" class="post-title-link" itemprop="url">Aics_Chap5</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-27 05:12:57" itemprop="dateCreated datePublished" datetime="2020-06-27T05:12:57+08:00">2020-06-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-06-28 00:31:36" itemprop="dateModified" datetime="2020-06-28T00:31:36+08:00">2020-06-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Aics/" itemprop="url" rel="index"><span itemprop="name">Aics</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="编程框架机理"><a href="#编程框架机理" class="headerlink" title="编程框架机理"></a>编程框架机理</h1><hr>
<p>==<strong>编程框架的内部运转 具备开发框架的能力</strong>==</p>
<h2 id="tensorflow-设计原则"><a href="#tensorflow-设计原则" class="headerlink" title="tensorflow 设计原则"></a>tensorflow 设计原则</h2><p>TensorFlow 的目的：</p>
<ol>
<li><p><strong>高性能</strong></p>
<ul>
<li>算子：每个算子对底层部件已经优化，可以更好的利用硬件性能。</li>
<li>计算图：优化了计算图，提高了计算图的计算效率（TODO 计算图如何优化）</li>
<li>并行： 根据计算图，并行没有数据依赖的节点</li>
</ul>
</li>
<li><p><strong>易开发</strong></p>
<p> 提炼了深度学习的很多共性算子，方便用户调用。</p>
</li>
<li><p><strong>可移植</strong></p>
<p> 可以适用于不同的异构系统，方便代码移植。<br> 表明对于同一个算子，开发了适合同步底层的代码。</p>
</li>
</ol>
<h2 id="TensorFlow-计算图"><a href="#TensorFlow-计算图" class="headerlink" title="TensorFlow 计算图"></a>TensorFlow 计算图</h2><h3 id="计算图求导方法"><a href="#计算图求导方法" class="headerlink" title="计算图求导方法"></a>计算图求导方法</h3><h4 id="手动求解法"><a href="#手动求解法" class="headerlink" title="手动求解法"></a>手动求解法</h4><ul>
<li>手动编写链式法则求导转化成计算机程序特别困难</li>
<li>如果更改网络模型，需要改好多梯度求解算法</li>
</ul>
<h4 id="数值求导法"><a href="#数值求导法" class="headerlink" title="数值求导法"></a>数值求导法</h4><p>给一个很小的初始值，算出来偏差</p>
<ul>
<li>计算量大，求解速度慢</li>
<li>可能引入舍入误差和截断误差</li>
</ul>
<h4 id="符号求导法"><a href="#符号求导法" class="headerlink" title="符号求导法"></a>符号求导法</h4><p>会引起表达式膨胀</p>
<h4 id="自动求导法"><a href="#自动求导法" class="headerlink" title="自动求导法"></a>自动求导法</h4><p>==自动求导方法是界于数值求导方法和符号求导方法之间==</p>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Aics/Automatic_derivation.png" alt="自动求导方法"></p>
<p>求导方法对比：</p>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Aics/derivation.png" alt="自动求导方法"></p>
<h4 id="计算图分配"><a href="#计算图分配" class="headerlink" title="计算图分配"></a>计算图分配</h4><ol>
<li><p>从起始点开始遍历计算图的每一个节点</p>
</li>
<li><p>然后考虑每个节点的可行设备集合</p>
</li>
<li><p>采用<strong>贪心算法</strong>，选择最快完成时间的设备分配给该节点。</p>
</li>
</ol>
<blockquote>
<p>常量折叠：有的常数节点可以被提亲计算，用新生成的节点代替原来的节点。<br>算数优化：对表达式优化<br>布局优化<br>Tensorflow 默认NHWC；GPU默认NCHW。<br>两个连续的GPU计算节点之间的 NCHW2NHWC 与NHWC2NCHE 可以相互抵消。<br>重映射：将出现频率较高的子图用一个单独的算子来替代。<br>消除子图的调度开销<br>不需要在计算过程中将数据调入内存，再调出内存。访存开销减少</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/27/Aics/chap4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://123.57.5.52:8080/Firefox_wallpaper.png">
      <meta itemprop="name" content="douzhi">
      <meta itemprop="description" content="nice to meet you">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="斗志">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/27/Aics/chap4/" class="post-title-link" itemprop="url">Aics_Chap4</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-27 04:12:57" itemprop="dateCreated datePublished" datetime="2020-06-27T04:12:57+08:00">2020-06-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-06-28 00:31:19" itemprop="dateModified" datetime="2020-06-28T00:31:19+08:00">2020-06-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Aics/" itemprop="url" rel="index"><span itemprop="name">Aics</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第四章"><a href="#第四章" class="headerlink" title="第四章"></a>第四章</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/27/Aics/chap3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://123.57.5.52:8080/Firefox_wallpaper.png">
      <meta itemprop="name" content="douzhi">
      <meta itemprop="description" content="nice to meet you">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="斗志">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/27/Aics/chap3/" class="post-title-link" itemprop="url">Aics_Chap3</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-27 03:12:57" itemprop="dateCreated datePublished" datetime="2020-06-27T03:12:57+08:00">2020-06-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-06-28 00:31:09" itemprop="dateModified" datetime="2020-06-28T00:31:09+08:00">2020-06-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Aics/" itemprop="url" rel="index"><span itemprop="name">Aics</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Chap3-知识汇总"><a href="#Chap3-知识汇总" class="headerlink" title="Chap3 知识汇总"></a>Chap3 知识汇总</h1><h2 id="chap3-3"><a href="#chap3-3" class="headerlink" title="chap3.3"></a>chap3.3</h2><h3 id="Alexnet"><a href="#Alexnet" class="headerlink" title="Alexnet"></a>Alexnet</h3><ul>
<li><p>ReLU 激活函数：训练中收敛速度更快。（比sigmod函数）</p>
</li>
<li><p>LRN局部响应归一化：提升较大响应，抑制较小响应 （现在被证明无明显效果）</p>
</li>
<li><p>MaxPool: 避免特征值被平均池化，提升代码鲁棒性</p>
</li>
<li><p>Dropout: 随机舍弃部分隐层节点，避免过拟合</p>
</li>
</ul>
<h3 id="VGG"><a href="#VGG" class="headerlink" title="VGG"></a>VGG</h3><p>VGG 实现更深的网络<br>VGG16 一共16层，不方便训练。<br>他的实现方法是 先训练<code>一部分层</code>，比如11层，得到的数据中部分作为初始值，然后在初始条件下进行重新训练<code>更深</code>的神经网络。(但不适合更深的神经网络)</p>
<p>==VGG 使用更小的卷积的原因==:</p>
<ul>
<li>5x5的卷积核，可以用两个3x3的卷积核替代</li>
</ul>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Aics/small_core_1.png" alt="小的卷积可以替代大的卷积"></p>
<ul>
<li>干同样的事情所需要更少的参数，计算量存储变小了，还可以防止过拟合</li>
</ul>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Aics/small_core_2.png" alt="更少的参数"></p>
<h2 id="chap3-4"><a href="#chap3-4" class="headerlink" title="chap3.4"></a>chap3.4</h2><h3 id="Inception"><a href="#Inception" class="headerlink" title="Inception"></a>Inception</h3><p>==1x1的卷积核可以更改通道c的大小==</p>
<p>辅助神经网络防止过拟合。</p>
<p><img src="http://home.ustc.edu.cn/~dzx1/Picture/Aics/softmax_assit_net.png" alt="辅助神经网络"><br>越接近输入的地方，更新权重越小，越不好更新。</p>
<h3 id="BN-Inception"><a href="#BN-Inception" class="headerlink" title="BN-Inception"></a>BN-Inception</h3><p><strong>BathNorm 函数</strong>：</p>
<ul>
<li>normalize</li>
</ul>
<p>将激活层输入部分分布在==激活函数的敏感部分==。</p>
<ul>
<li>scale and shift(bias)</li>
</ul>
<p>归一化后的输入是的网络的表达能力下降。通过增加训练参数提高网络的表达能力</p>
<p>BathNorm 函数 还可以将训练的学习率提高到5倍，乃至30倍。训练速度可以得到明显加快。</p>
<h3 id="Inception-v3"><a href="#Inception-v3" class="headerlink" title="Inception-v3"></a>Inception-v3</h3><p><strong>Factorization(因式分解的思想)</strong>（inception-v3）：</p>
<p>将3x3的卷积拆分成1x3和3x1的卷积，减少了参数数量，同时通过<strong>非对称</strong>的卷积结构拆分增加了特征多样性。</p>
<h2 id="chap3-5"><a href="#chap3-5" class="headerlink" title="chap3.5"></a>chap3.5</h2><h3 id="ResNet"><a href="#ResNet" class="headerlink" title="ResNet"></a>ResNet</h3><p>之前遇到的<strong>问题</strong>：更深的卷积神经网络的误差比较大。</p>
<p><strong>梯度消失？</strong> No！使用BathNorm课有效地缓解梯度消失<br><strong>过拟合？</strong> No！更深的神经网络在训练集的误差同样更高。</p>
<p>==神经网络退化==：收敛到极值点而非最值点。（陷入局部最优）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="douzhi"
      src="http://123.57.5.52:8080/Firefox_wallpaper.png">
  <p class="site-author-name" itemprop="name">douzhi</p>
  <div class="site-description" itemprop="description">nice to meet you</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">20</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">douzhi</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
